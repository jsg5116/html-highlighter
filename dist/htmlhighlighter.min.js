/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015-2017 Diffeo Inc. (Dossier Stack)
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("htmlhighlighter",[],e):"object"==typeof exports?exports.htmlhighlighter=e():t.htmlhighlighter=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=69)}([function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(108),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){var r=n(4),i=n(0),o=n(10),u=n(12),s=n(15),a=function(t,e,n){var f,l,c,h=t&a.F,d=t&a.G,v=t&a.S,p=t&a.P,g=t&a.B,y=t&a.W,m=d?i:i[e]||(i[e]={}),_=m.prototype,b=d?r:v?r[e]:(r[e]||{}).prototype;d&&(n=e);for(f in n)(l=!h&&b&&void 0!==b[f])&&s(m,f)||(c=l?b[f]:n[f],m[f]=d&&"function"!=typeof b[f]?n[f]:g&&l?o(c,r):y&&b[f]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((m.virtual||(m.virtual={}))[f]=c,t&a.R&&_&&!_[f]&&u(_,f,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(55)("wks"),i=n(40),o=n(4).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(8),i=n(78),o=n(57),u=Object.defineProperty;e.f=n(9)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(27);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(34),f=r(a),l=n(13),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),h=n(14),d=r(h),v=function(){function t(e){(0,o.default)(this,t),this.root=e,this.text="",this.markers=[],this.refresh()}return(0,s.default)(t,[{key:"refresh",value:function(){this.text="";var t=this.markers=[],e=this.visit_(this.root,0);if(f.default.debugging&&0!==this.markers.length){var n=t[t.length-1];if(e-n.node.nodeValue.length!==n.offset)throw new Error("Invalid state detected: offset mismatch")}}},{key:"truncate",value:function(t,e,n){var r=t.node.nodeValue,i=this.indexOf(t.offset),o=t.node;if(e<0||n<0||n>=r.length)throw new Error("Invalid truncation parameters");if(e>0){var u=document.createTextNode(r.substr(0,e));this.markers.splice(i,0,{offset:t.offset,node:c.insertBefore(u,t.node)}),++i}if(t.offset+=e,t.node=c.insertBefore(document.createTextNode(r.substr(e,n-e+1)),t.node),n!==r.length-1){if(i>=this.markers.length)throw new Error("Detected invalid index");this.markers.splice(i+1,0,{offset:t.offset+n-e+1,node:c.insertAfter(document.createTextNode(r.substr(n+1)),t.node)})}return f.default.debugging&&this.assert(),o.parentNode.removeChild(o),i}},{key:"indexOf",value:function(t){for(var e=this.markers,n=0,r=e.length-1;n<r;){var i=Math.floor((n+r)/2);e[i].offset<t?n=i+1:r=i}if(e[n].offset<=t)return n;if(0===n)throw new Error("Invalid offset of text content state");return n-1}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(3!==t.nodeType)return-1;for(var n=null==e?0:e,r=this.markers.length;n<r;++n)if(this.markers[n].node===t)return n;return-1}},{key:"at",value:function(t){if(t<0||t>=this.markers.length)throw new Error("Invalid marker index");return this.markers[t]}},{key:"visit_",value:function(t,e){if(3===t.nodeType){var n=t.nodeValue,r=n.length;return this.markers.push({node:t,offset:e}),this.text+=n,e+r}var i=t.childNodes;if(i.length>0)for(var o=0,u=i.length;o<u;++o)e=this.visit_(i[o],e);return e}},{key:"assert",value:function(){for(var t=0,e=0,n=this.markers.length;e<n;++e){var r=this.markers[e];if(r.offset!==t)throw d.default.error("invalid offset: %d@ %d:%d ->",e,r.offset,t,r),new Error("Halting due to invalid offset");t+=r.node.nodeValue.length}}}]),t}();e.default=v},function(t,e,n){var r=n(7),i=n(31);t.exports=n(9)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return new E.default(t.className.split(" ").map(function(t){return t.trim()}).filter(Boolean))}function o(t){return t instanceof NodeList?t:new E.default([t])}function u(t,e){var n=!0,r=!1,u=void 0;try{for(var s,a=(0,k.default)(o(t));!(n=(s=a.next()).done);n=!0){var f=s.value,l=i(f);l.add(e),f.className=(0,w.default)(l).join(" ")}}catch(t){r=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw u}}}function s(t,e){var n=!0,r=!1,u=void 0;try{for(var s,a=(0,k.default)(o(t));!(n=(s=a.next()).done);n=!0){var f=s.value,l=i(f);l.delete(e),f.className=(0,w.default)(l).join(" ")}}catch(t){r=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw u}}}function a(t){return document.querySelectorAll("."+j.Css.highlight+"-id-"+t)}function f(t){return document.querySelectorAll("."+j.Css.highlight+"-"+t)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t?"."+t:"";return document.querySelectorAll("."+j.Css.highlight+e)}function c(t){var e=a(t);if(e.length<1)return!1;var n=e[0].getBoundingClientRect();return n.height>0&&n.width>0}function h(t,e){var n,r=new T.default;if(t&&t.classList?n=t.classList:t&&t.parentElement&&t.parentElement.classList?n=t.parentElement.classList:t&&t.parentNode&&t.parentNode.classList&&(n=t.parentNode.classList),n)for(var i=0;i<n.length;i++)if(-1!==n[i].indexOf("hh-highlight-")&&-1===n[i].indexOf(e)){var o=parseInt(n[i].substr("hh-highlight-".length),10);if(r.undo(o),P.highlightSubjects&&null!=P.highlightSubjects[o]){var u=P.highlightSubjects.slice(0);u[o]=null,(0,P.setHighlightSubjects)(u);break}}var s=document.createElement("span");return s.className=e,t.parentNode.insertBefore(s,t),s.appendChild(t),s}function d(t,e){return e.parentNode.insertBefore(t,e),t}function v(t,e){return e.parentNode.insertBefore(t,e.nextSibling),t}function p(t){for(var e=0,n=0;null!=t;){if("body"===t.tagName.toLowerCase()){var r=t.scrollLeft||document.documentElement.scrollLeft,i=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-r+t.clientLeft,n+=t.offsetTop-i+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:n}}function g(t){var e=t.getBoundingClientRect();return e.top>=0&&e.top+e.height<window.innerHeight}function y(t,e){null==e&&(e=window);var n=void 0,r=void 0;e===window?(r=window.innerHeight,n=window.scrollY):(r=e.getBoundingClientRect().height,n=e.scrollTop);var i=t.getBoundingClientRect();e.scrollTo(window.scrollX,i.top+n-(r-i.height)/2)}function m(t,e){try{if(!0===e(t))return!0}catch(t){console.error("exception raised while executing visitor callback:",t)}if(t.nodeType===Node.TEXT_NODE)return!1;var n=!0,r=!1,i=void 0;try{for(var o,u=(0,k.default)(t.childNodes);!(n=(o=u.next()).done);n=!0){if(m(o.value,e))return!0}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return!1}function _(t){var e=null;return m(t,function(t){return t.nodeType===Node.TEXT_NODE&&(e=t),!1}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.findLastTextNode=e.visitDOM=e.scrollIntoView=e.isInView=e.getOffset=e.insertAfter=e.insertBefore=e.createHighlightElement=e.isHighlightVisible=e.getAllHighlightElements=e.getForQuerySet=e.getHighlightElements=e.removeClass=e.addClass=e.ensureIterable=e.classNameToSet=void 0;var b=n(104),w=r(b),x=n(19),k=r(x),O=n(110),E=r(O),j=n(17),S=n(42),T=r(S),P=n(35);e.classNameToSet=i,e.ensureIterable=o,e.addClass=u,e.removeClass=s,e.getHighlightElements=a,e.getForQuerySet=f,e.getAllHighlightElements=l,e.isHighlightVisible=c,e.createHighlightElement=h,e.insertBefore=d,e.insertAfter=v,e.getOffset=p,e.isInView=g,e.scrollIntoView=y,e.visitDOM=m,e.findLastTextNode=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(34),f=r(a),l=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,[{key:"debug",value:function(){if(f.default.verbose){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit("debug",e)}}},{key:"log",value:function(){if(f.default.verbose){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit("log",e)}}},{key:"info",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit("info",e)}},{key:"warn",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit("warn",e)}},{key:"error",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit("error",e)}},{key:"exception",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e=this.prepend(e,"exception occurred","unknown exception occurred"),this.emit("error",e)}},{key:"prepend",value:function(t,e,n){if(0===t.length)return[n||e];var r=t[0];return"string"==typeof r&&(t[0]=e+": "+r),t}},{key:"emit",value:function(t,e){var n=console[t];null==n?console.error("logger: console function '"+t+"' undefined or invalid"):n.apply(console,this.prepend(e,"html-highlighter"))}}]),t}();e.default=new l},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(141)(!0);n(48)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Css={highlight:"hh-highlight",enabled:"hh-enabled",disabled:"hh-disabled"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(13),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),l=n(11),c=(r(l),n(103)),h=r(c),d=n(70),v=r(d),p=function(){function t(e,n,r){if((0,o.default)(this,t),this.content=e,n.marker.offset+n.offset>r.marker.offset+r.offset)throw new Error("Invalid range: start > end");this.start=n,this.end=r}return(0,s.default)(t,null,[{key:"descriptorAbs",value:function(t,e){return{marker:t,offset:e-t.offset}}},{key:"descriptorRel",value:function(t,e){return{marker:t,offset:e}}}]),(0,s.default)(t,[{key:"surround",value:function(t){var e=this;if(this.start.marker.node===this.end.marker.node)return this.surround_(this.start,this.start.offset,this.end.offset,t),void(this.start.offset=0);for(var n=new h.default(this.start.marker.node,this.content.root),r=this.end.marker.node,i=[];n.next()!==r;)i.push(n.current);this.surround_(this.start,this.start.offset,null,t),i.forEach(function(n){return e.surroundWhole_(n,t)}),this.surround_(this.end,0,this.end.offset,t),this.start.offset=0}},{key:"computeXpath",value:function(){var t=this.start.marker.node,e=this.end.marker.node,n=new v.default(this.content.root);return{start:{xpath:n.xpathOf(t),offset:this.start.offset+n.offset(t)},end:{xpath:n.xpathOf(e),offset:this.end.offset+n.offset(e)+1}}}},{key:"length",value:function(){if(this.start.marker.node===this.end.marker.node)return this.end.offset-this.start.offset+1;for(var t=new h.default(this.start.marker.node,this.content.root),e=this.end.marker.node,n=this.start.marker.node.nodeValue.length-this.start.offset+this.end.offset+1;t.next()!==e;)n+=t.current.nodeValue.length;return n}},{key:"surround_",value:function(t,e,n,r){this.content.truncate(t.marker,e,null==n?t.marker.node.nodeValue.length-1:n),f.createHighlightElement(t.marker.node,r)}},{key:"surroundWhole_",value:function(t,e){f.createHighlightElement(t,e)}}]),t}();e.default=p},function(t,e,n){t.exports={default:n(115),__esModule:!0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){var r=n(79),i=n(45);t.exports=function(t){return r(i(t))}},function(t,e,n){n(147);for(var r=n(4),i=n(12),o=n(21),u=n(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<s.length;a++){var f=s[a],l=r[f],c=l&&l.prototype;c&&!c[u]&&i(c,u,f),o[f]=o.Array}},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(109),o=r(i),u=n(107),s=r(u),a=n(72),f=r(a);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,f.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(72),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(10),i=n(82),o=n(80),u=n(8),s=n(39),a=n(61),f={},l={},e=t.exports=function(t,e,n,c,h){var d,v,p,g,y=h?function(){return t}:a(t),m=r(n,c,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=s(t.length);d>_;_++)if((g=e?m(u(v=t[_])[0],v[1]):m(t[_]))===f||g===l)return g}else for(p=y.call(t);!(v=p.next()).done;)if((g=i(p,m,v.value,e))===f||g===l)return g};e.BREAK=f,e.RETURN=l},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(7).f,i=n(15),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(45);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t){s.verbose=t}function i(){return s.verbose}function o(t){s.debugging=t}function u(){return s.debugging}Object.defineProperty(e,"__esModule",{value:!0});var s={verbose:!1,debugging:!1};e.default=s,e.setVerbose=r,e.getVerbose=i,e.setDebugging=o,e.getDebugging=u},function(t,e,n){"use strict";function r(){throw new Error("Abstract method not implemented")}function i(){var t=void 0,e=void 0;return{instance:new s.default(function(n,r){t=n,e=r}),resolve:t,fail:e}}function o(t){e.highlightSubjects=a=t.slice(0)}Object.defineProperty(e,"__esModule",{value:!0}),e.setHighlightSubjects=e.createPromiseCapabilities=e.abstract=e.highlightSubjects=void 0;var u=n(36),s=function(t){return t&&t.__esModule?t:{default:t}}(u),a=e.highlightSubjects=void 0;e.abstract=r,e.createPromiseCapabilities=i,e.setHighlightSubjects=o},function(t,e,n){t.exports={default:n(122),__esModule:!0}},function(t,e,n){var r=n(28),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(8),i=n(137),o=n(47),u=n(54)("IE_PROTO"),s=function(){},a=function(){var t,e=n(46)("iframe"),r=o.length;for(e.style.display="none",n(77).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[o[r]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[u]=t):n=a(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(56),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),o=r(i),u=n(1),s=r(u),a=n(2),f=r(a),l=n(13),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),h=function(){function t(){(0,s.default)(this,t)}return(0,f.default)(t,[{key:"undo",value:function(t){var e=c.getHighlightElements(t),n=!0,r=!1,i=void 0;try{for(var u,s=(0,o.default)(e);!(n=(u=s.next()).done);n=!0){for(var a=u.value,f=void 0;null!=(f=a.childNodes[0]);)a.parentNode.insertBefore(f,a);"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),a.remove()}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(11),f=(r(a),n(35)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),c=n(18),h=r(c),d=function(){function t(e){(0,o.default)(this,t),this.content=e,this.results=[],this.current=0}return(0,s.default)(t,[{key:"next",value:function(){l.abstract()}},{key:"getAt_",value:function(t){var e=this.content.indexOf(t);if(-1===e)throw new Error("Failed to retrieve marker for offset: "+t);return h.default.descriptorAbs(this.content.at(e),t)}}]),t}();e.default=d},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(6),i=n(4).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(30),i=n(3),o=n(92),u=n(12),s=n(21),a=n(135),f=n(32),l=n(88),c=n(5)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,p,g,y){a(n,e,v);var m,_,b,w=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",k="values"==p,O=!1,E=t.prototype,j=E[c]||E["@@iterator"]||p&&E[p],S=j||w(p),T=p?k?w("entries"):S:void 0,P="Array"==e?E.entries||j:j;if(P&&(b=l(P.call(new t)))!==Object.prototype&&b.next&&(f(b,x,!0),r||"function"==typeof b[c]||u(b,c,d)),k&&j&&"values"!==j.name&&(O=!0,S=function(){return j.call(this)}),r&&!y||!h&&!O&&E[c]||u(E,c,S),s[e]=S,s[x]=d,p)if(m={values:k?S:w("values"),keys:g?S:w("keys"),entries:T},y)for(_ in m)_ in E||o(E,_,m[_]);else i(i.P+i.F*(h||O),e,m);return m}},function(t,e,n){var r=n(40)("meta"),i=n(6),o=n(15),u=n(7).f,s=0,a=Object.isExtensible||function(){return!0},f=!n(20)(function(){return a(Object.preventExtensions({}))}),l=function(t){u(t,r,{value:{i:"O"+ ++s,w:{}}})},c=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!a(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!a(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return f&&v.NEED&&a(t)&&!o(t,r)&&l(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:c,getWeak:h,onFreeze:d}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(27);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(89),i=n(47);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){var r=n(55)("keys"),i=n(40);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(0),i=n(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(4),i=n(0),o=n(30),u=n(60),s=n(7).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:u.f(t)})}},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(37),i=n(5)("iterator"),o=n(21);t.exports=n(0).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";function r(t){console&&console.warn&&console.warn(t)}function i(){i.init.call(this)}function o(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function u(t,e,n,i){var u,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(s=t._events,void 0===s?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"==typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(u=o(t))>0&&a.length>u&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,r(f)}return t}function s(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,g(this.listener,this.target,t))}function a(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?d(i):c(i,i.length)}function l(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function h(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function d(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}var v,p="object"==typeof Reflect?Reflect:null,g=p&&"function"==typeof p.apply?p.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};v=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var y=Number.isNaN||function(t){return t!==t};t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var m=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(t){if("number"!=typeof t||t<0||y(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");m=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||y(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var s=i[t];if(void 0===s)return!1;if("function"==typeof s)g(s,this,e);else for(var a=s.length,f=c(s,a),n=0;n<a;++n)g(f[n],this,e);return!0},i.prototype.addListener=function(t,e){return u(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return u(this,t,e,!0)},i.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,a(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,a(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,i,o,u;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){u=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():h(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return f(this,t,!0)},i.prototype.rawListeners=function(t){return f(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):l.call(t,e)},i.prototype.listenerCount=l,i.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]}},function(t,e,n){(function(t){!function(e){function n(t,e){if("object"!==i(t))return e;for(var r in e)"object"===i(t[r])&&"object"===i(e[r])?t[r]=n(t[r],e[r]):t[r]=e[r];return t}function r(t,e,r){var u=r[0],s=r.length;(t||"object"!==i(u))&&(u={});for(var a=0;a<s;++a){var f=r[a];if("object"===i(f))for(var l in f)if("__proto__"!==l){var c=t?o.clone(f[l]):f[l];u[l]=e?n(u[l],c):c}}return u}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var o=function(t){return r(!0===t,!1,arguments)};o.recursive=function(t){return r(!0===t,!0,arguments)},o.clone=function(t){var e,n,r=t,u=i(t);if("array"===u)for(r=[],n=t.length,e=0;e<n;++e)r[e]=o.clone(t[e]);else if("object"===u){r={};for(e in t)r[e]=o.clone(t[e])}return r},e?t.exports=o:window.merge=o}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,n(169)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(113),o=r(i),u=n(19),s=r(u),a=n(36),f=r(a),l=n(73),c=r(l),h=n(71),d=r(h),v=n(106),p=r(v),g=n(24),y=r(g),m=n(1),_=r(m),b=n(2),w=r(b),x=n(26),k=r(x),O=n(25),E=r(O),j=n(62),S=r(j),T=n(63),P=r(T),L=n(34),M=r(L),N=n(14),C=r(N),A=n(17),I=n(13),R=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(I),q=n(11),H=r(q),F=n(68),V=r(F),D=n(101),Q=r(D),B=n(99),z=r(B),G=n(35),X=n(69),U=function(t){function e(t){(0,_.default)(this,e);var n=(0,k.default)(this,(e.__proto__||(0,y.default)(e)).call(this));n.onHighlightCreated=function(t,e,r,i){n.markers.add(t,r,e),null!=i&&n.state.set(r,i),n.emit("highlight",r,i)},n.onHighlightRemoved=function(t){n.state.delete(t),n.emit("unhighlight",t)},n.options=(0,P.default)({},e.defaults,t),n.queries=new p.default,n.markers=new V.default,n.state=new p.default,n.lastId=0,n.stats={queries:0,total:0,highlight:0};var r=t.container;return null==r?n.options.container=window.document.body:r instanceof HTMLElement&&(n.options.container=r),n.renderer=new Q.default(n.options),n.cursor=new z.default(n.markers),n.refresh(),C.default.log("instantiated"),n}return(0,E.default)(e,t),(0,w.default)(e,[{key:"wait",value:function(){function t(){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.renderer.wait();case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"setContainer",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wait();case 2:return t.next=4,this.clear(!0);case 4:this.options.container=e,this.renderer=new Q.default(this.options),this.refresh(),C.default.log("new container set");case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"refresh",value:function(){this.content=new H.default(this.options.container),M.default.debugging&&this.assert(),this.renderer.setContent(this.content),this.emit("refresh")}},{key:"removeHighlight",value:function(t){if((new X.RangeUnhighlighter).undo(t),G.highlightSubjects&&G.highlightSubjects.length&&null!=G.highlightSubjects[t]){var e=G.highlightSubjects.slice(0);e[t]=null,(0,G.setHighlightSubjects)(e)}}},{key:"getSubjects",value:function(){return G.highlightSubjects||(0,G.setHighlightSubjects)([]),G.highlightSubjects}},{key:"setSubjects",value:function(t){(0,G.setHighlightSubjects)(t)}},{key:"add",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e,n){var r,i,o,u=this,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=!0===s,("number"!=typeof a||a<1)&&(a=null),r={name:e,enabled:s,queryId:-1,highlightId:-1,length:0,reserve:null},this.remove_(e),i=D.QueryHighlighter.instantiate(this.renderer,n),i.on("highlight",this.onHighlightCreated),i.on("init",function(){if(u.queries.has(e))return void i.abort();C.default.log("adding queries to: "+r.name),u.queries.set(e,r),r.queryId=u.stats.highlight,r.highlightId=u.lastId,i.init(r)}),o=(0,G.createPromiseCapabilities)(),i.on("done",function(t){r.length+=t,s&&(u.stats.total+=t),null!=a?a>t?(u.lastId=a,r.reserve=a):(C.default.error("invalid or insufficient reserve specified"),r.reserve=t):u.lastId+=t,++u.stats.queries,++u.stats.highlight>=u.options.maxHighlight&&(u.stats.highlight=0);var i=[];G.highlightSubjects&&G.highlightSubjects.length&&(i=G.highlightSubjects.slice(0)),i.push({start:n[0].start,end:n[0].end}),(0,G.setHighlightSubjects)(i),u.cursor.clear(),u.emit("add",e,r,n),M.default.debugging&&u.assert(),o.resolve(t)}),i.on("abort",function(){return o.resolve()}),this.renderer.enqueue(i),this.renderer.next(),t.abrupt("return",o.instance);case 13:case"end":return t.stop()}},t,this)}));return t}()},{key:"append",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e,n){var r,i,o,u=this;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=void 0,i=D.QueryHighlighter.instantiate(this.renderer,n),o=(0,G.createPromiseCapabilities)(),i.on("init",function(){if(null==(r=u.queries.get(e)))return void i.abort();C.default.log("appending queries to: "+r.name),i.init(r)}),i.on("done",function(t){null!=r&&(r.length+=t,r.enabled&&(u.stats.total+=t),u.cursor.clear(),u.emit("append",e,r,n),M.default.debugging&&u.assert(),o.resolve(t))}),i.on("abort",function(){return o.resolve()}),this.renderer.enqueue(i),this.renderer.next(),t.abrupt("return",o.instance);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"remove",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e){var n;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.remove_(e),this.renderer.next(),t.next=4,n;case 4:this.cursor.clear(),this.emit("remove",e);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"enable",value:function(t){var e=this.get_(t);e.enabled||(R.removeClass(R.getForQuerySet(e.queryId),A.Css.disabled),e.enabled=!0,this.stats.total+=e.length,this.cursor.clear(),this.emit("enable",t))}},{key:"disable",value:function(t){var e=this.get_(t);e.enabled&&(R.addClass(R.getForQuerySet(e.queryId),A.Css.disabled),e.enabled=!1,this.stats.total-=e.length,this.cursor.clear(),this.emit("disable",t))}},{key:"clear",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e){var n,r,i,u,a,l,h,d;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=!0,i=!1,u=void 0,t.prev=4,a=(0,s.default)(this.queries);!(r=(l=a.next()).done);r=!0)h=(0,o.default)(l.value,1),d=h[0],n.push(this.remove_(d));t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),i=!0,u=t.t0;case 12:t.prev=12,t.prev=13,!r&&a.return&&a.return();case 15:if(t.prev=15,!i){t.next=18;break}throw u;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return this.renderer.next(),t.next=23,f.default.all(n);case 23:e&&(this.lastId=0,this.stats.highlight=0),this.cursor.clear(),this.emit("clear"),M.default.debugging&&this.assert();case 27:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return t}()},{key:"has",value:function(t){return this.queries.has(t)}},{key:"getState",value:function(t){return this.state.get(t)}},{key:"empty",value:function(){return 0===this.queries.size}},{key:"lastIdOf",value:function(t){var e=this.get_(t),n=e.length;return n>0?e.highlightId+n-1:-1}},{key:"remove_",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,d.default)(c.default.mark(function t(e){var n,r,i,o=this;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0,r=(0,G.createPromiseCapabilities)(),i=D.QueryUnhighlighter.instantiate(this.renderer),i.on("unhighlight",this.onHighlightRemoved),i.on("init",function(){if(null==(n=o.queries.get(e)))return void i.abort();C.default.log("remove query set: "+n.name),i.init(n)}),i.on("done",function(){null!=n&&(o.markers.removeAll(n),o.queries.delete(e),--o.stats.queries,o.stats.total-=n.length,o.options.normalise&&(o.options.container.normalize(),o.refresh()),M.default.debugging&&o.assert(),r.resolve())}),i.on("abort",function(){return r.resolve()}),this.renderer.enqueue(i),t.abrupt("return",r.instance);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"get_",value:function(t){var e=this.queries.get(t);if(null==e)throw new Error("Query set non-existent: "+t);return e}},{key:"assert",value:function(){this.content.assert();var t=0,e=!0,n=!1,r=void 0;try{for(var i,u=(0,s.default)(this.queries);!(e=(i=u.next()).done);e=!0){t+=(0,o.default)(i.value,2)[1].length}}catch(t){n=!0,r=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw r}}if(this.markers.assert(t),0===this.lastId||0===this.stats.highlight){if(this.lastId!==this.stats.highlight)throw new Error("IDs mismatch when empty");if(0!==this.queries.size)throw new Error("Queries map not empty");if(0!==this.state.size)throw new Error("Highlight state map not empty")}else if(this.state.size>t)throw new Error("Unexpected highlight state")}}]),e}(S.default);U.defaults={scrollTo:null,maxHighlight:1,useQueryAsClass:!1,normalise:!0,rendering:{async:!1,interval:250}},e.default=U},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(17),f=n(18),l=(r(f),function(){function t(e,n,r,i){(0,o.default)(this,t);var u=[a.Css.highlight,a.Css.highlight+"-"+e];null!=i&&u.push(i),!1===r&&u.push(a.Css.disabled),this.classes=u.join(" "),this.id=n}return(0,s.default)(t,[{key:"do",value:function(t){return t.surround(this.classes+" "+a.Css.highlight+"-id-"+this.id),this.id++}}]),t}());e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),u=n(1),s=r(u),a=n(26),f=r(a),l=n(2),c=r(l),h=n(25),d=r(h),v=n(63),p=r(v),g=n(11),y=(r(g),n(43)),m=r(y),_=n(18),b=r(_),w=function(t){function e(t,n){(0,s.default)(this,e);for(var r=(0,f.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t)),i=void 0,u=n instanceof RegExp?n:new RegExp(n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi");null!==(i=u.exec(r.content.text));)r.results.push({length:i[0].length,index:i.index});return r}return(0,d.default)(e,t),(0,c.default)(e,null,[{key:"isSubject",value:function(t){return"string"==typeof t||t instanceof RegExp}}]),(0,c.default)(e,[{key:"next",value:function(){if(this.current>=this.results.length)return null;var t=this.results[this.current],e=t.length,n=this.getAt_(t.index),r=void 0;n.offset+e<=n.marker.node.nodeValue.length?(r=(0,p.default)({},n),r.offset=n.offset+e-1):r=this.getAt_(t.index+e-1);var i=new b.default(this.content,n,r);return++this.current,i}}]),e}(m.default);e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),u=n(1),s=r(u),a=n(2),f=r(a),l=n(26),c=r(l),h=n(25),d=r(h),v=n(11),p=(r(v),n(43)),g=r(p),y=n(70),m=r(y),_=n(18),b=r(_),w=n(14),x=r(w),k=function(t){function e(t,n){(0,s.default)(this,e);var r=(0,c.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));if(n.start.offset<0||n.end.offset<0)throw new Error("Invalid or no XPath object specified");var i=void 0,u=new m.default(r.content.root),a=u.elementAt(n.start.xpath);if(null===a)return(0,c.default)(r);if(null===(i=u.elementAt(n.end.xpath)))return(0,c.default)(r);if(a=t.find(a),i=t.find(i),a<0||i<0)return x.default.error("unable to derive global offsets: %d:%d [xpath=%s:%s to end=%s:%s]",a,i,n.start.xpath,n.start.offset,n.end.xpath,n.end.offset),(0,c.default)(r);if(a=t.at(a).offset+n.start.offset,i=t.at(i).offset+n.end.offset-1,a>i)throw new Error("Invalid XPath representation: start > end");return r.results.push({start:a,end:i}),r}return(0,d.default)(e,t),(0,f.default)(e,[{key:"next",value:function(){if(this.current>=this.results.length)return null;var t=this.results[this.current];if(null==t)throw new Error("Subject not found");return++this.current,new b.default(this.content,this.getAt_(t.start),this.getAt_(t.end))}}]),e}(g.default);e.default=k},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(18),f=(r(a),n(13)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),c=function(){function e(){(0,o.default)(this,e),this.markers=[]}return(0,s.default)(e,[{key:"add",value:function(t,e,n){for(var r=n.start.marker.offset+n.start.offset,i=void 0,o=0,u=this.markers.length-1;o<u;)i=Math.floor((o+u)/2),this.markers[i].offset<r?o=i+1:u=i;this.markers.splice(this.markers.length>0&&this.markers[o].offset<r?o+1:o,0,{query:t,id:e,offset:r})}},{key:"removeAll",value:function(t){for(var e=this.markers,n=0;n<e.length;)e[n].query===t?e.splice(n,1):++n}},{key:"get",value:function(t){return this.markers[t]||null}},{key:"calculateTotal",value:function(t){return null==t?this.markers.length:this.markers.reduce(function(e,n){return t.indexOf(n.query.name)>=0?e+1:e},0)}},{key:"calculateTotalVisible",value:function(e){return t.env.TEST_ENV_JSDOM?this.calculateTotal(e):null==e?this.markers.reduce(function(t,e){return t+Number(l.isHighlightVisible(e.id))},0):this.markers.reduce(function(t,n){return e.indexOf(n.query.name)>=0&&l.isHighlightVisible(n.id)?t+1:t},0)}},{key:"find",value:function(e,n){var r=null;return this.markers.some(function(i){var o=i.query;return!!o.enabled&&(!(null!=n&&n.indexOf(o.name)<0)&&(!(!t.env.TEST_ENV_JSDOM&&!l.isHighlightVisible(i.id))&&(e<1?(r=i,!0):(--e,!1))))}),r}},{key:"assert",value:function(t){var e=0,n=0;if(this.markers.forEach(function(t){if(t.offset<e||t.id-t.query.highlightId>=t.query.length)throw new Error("Invalid state: highlight out of position");e=t.offset,++n}),n!==t)throw new Error("Invalid state: size mismatch")}}]),e}();e.default=c}).call(e,n(166))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUnhighlighter=e.getDebugging=e.setDebugging=e.getVerbose=e.setVerbose=e.SelectedRange=e.XPathFinder=e.TextFinder=e.RangeHighlighter=e.HtmlHighlighter=void 0;var i=n(34),o=n(64),u=r(o),s=n(65),a=r(s),f=n(66),l=r(f),c=n(67),h=r(c),d=n(98),v=r(d),p=n(42),g=r(p);e.HtmlHighlighter=u.default,e.RangeHighlighter=a.default,e.TextFinder=l.default,e.XPathFinder=h.default,e.SelectedRange=v.default,e.setVerbose=i.setVerbose,e.getVerbose=i.getVerbose,e.setDebugging=i.setDebugging,e.getDebugging=i.getDebugging,e.RangeUnhighlighter=g.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(17),f=n(14),l=r(f),c=function(){function t(e){(0,o.default)(this,t),this.root=e}return(0,s.default)(t,[{key:"xpathOf",value:function(t){var e="/text()["+this.indexOfText_(t)+"]";for(t=t.parentNode;null!=t&&t!==this.root&&this.isLikeText_(t);t=t.parentNode);for(;null!=t&&t!==this.root&&1===t.nodeType;t=t.parentNode){var n=this.indexOfElement_(t);e="/"+t.nodeName.toLowerCase()+"["+n+"]"+e}if(null==t)throw new Error("Specified node not within root's subtree");return e}},{key:"elementAt",value:function(t){var e=t.split("/"),n=void 0,r=this.root;if(0!==e[0].length||e.length<2)throw new Error("Invalid XPath representation");for(var i=1,o=e.length-1;i<o;++i)if(n=this.xpathPart_(e[i]),null==(r=this.nthElementOf_(r,n.tag,n.index)))return l.default.error("failed to find nth child:",n,r),null;if(n=e[i].trim(),0===n.length)throw new Error("XPath part cannot be empty. As an example, the form `//tag` is not currently\nallowed.  Offending XPath representation: "+t);return n=this.xpathPart_(e[i]),r="text()"===n.tag?this.nthTextOf_(r,n.index):null,null==r||3!==r.nodeType?(l.default.error("element at specified XPath NOT a text node:",t,n,r),null):r}},{key:"offset",value:function(t){var e=0;if(null==t||3!==t.nodeType)throw new Error("Invalid or no text node specified");for(;;){for(;null==t.previousSibling;){if((t=t.parentNode)===this.root||null==t)throw new Error("Invalid state: expected highlight container or text node");if(!this.isHighlight_(t))return e;if(null!=t.previousSibling)break}if(t=t.previousSibling,!this.isLikeText_(t))break;e+=this.length_(t)}return e}},{key:"length_",value:function(t){if(3===t.nodeType)return t.nodeValue.length;for(var e=t.childNodes,n=0,r=0,i=e.length;r<i;++r)n+=this.length_(e[r]);return n}},{key:"skip_",value:function(t){if(3===t.nodeType)for(;null!=t;){var e=t.parentNode;if(e===this.root||!this.isHighlight_(e))break;t=e}return t}},{key:"isHighlight_",value:function(t){return"span"===t.nodeName.toLowerCase()&&-1!==t.className.indexOf(a.Css.highlight)}},{key:"indexOfElement_",value:function(t){if(this.isLikeText_(t))throw new Error("No node specified or node of text type");for(var e=t.nodeName.toLowerCase(),n=1;null!==(t=t.previousSibling);)this.isLikeText_(t)||t.nodeName.toLowerCase()!==e||t.nodeType===Node.DOCUMENT_TYPE_NODE||++n;return n}},{key:"indexOfText_",value:function(t){if(!this.isLikeText_(t))throw new Error("No node specified or not of text type");var e=1,n=!0;for(t=this.skip_(t);null!=(t=t.previousSibling);)if(this.isLikeText_(t)){if(n)continue;n=!0,++e}else n=!1;return e}},{key:"isLikeText_",value:function(t){return 3===t.nodeType||this.isHighlight_(t)}},{key:"xpathPart_",value:function(t){var e=void 0;if(-1===t.indexOf("["))return{tag:t.toLowerCase(),index:0};var n=void 0;try{var r=t.match(/([^[]+)\[(\d+)\]/);if(e=parseInt(r[2],10),n=r[1],--e<0)throw new Error("Invalid index: "+e)}catch(e){throw l.default.error("failed to extract child index: "+t),e}return{tag:n.toLowerCase(),index:e}}},{key:"nthElementOf_",value:function(t,e,n){for(var r=t.children,i=void 0,o=0,u=r.length;o<u;++o)if(i=r[o],!this.isHighlight_(i)&&i.nodeName.toLowerCase()===e){if(0===n)return i;--n}return l.default.error("failed to locate tag '"+e+"' at index "+String(n)),null}},{key:"nthTextOf_",value:function(t,e){for(var n=void 0,r=!1,i=t.childNodes,o=0,u=i.length;o<u;++o)if(n=i[o],this.isLikeText_(n)){if(!r){if(r=!0,0===e){for(;this.isHighlight_(n);){if(i=n.childNodes,0===i.length||!this.isLikeText_(i[0]))throw new Error("Invalid state: expected text node or highlight container inside container");n=i[0]}return 3!==n.nodeType?(l.default.error("failed to locate text node at index "+String(e)),null):n}--e}}else r=!1;return null}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var r=n(36),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function r(o,u){try{var s=e[o](u),a=s.value}catch(t){return void n(t)}if(!s.done)return i.default.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}return r("next")})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(112),o=r(i),u=n(111),s=r(u),a="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===a(o.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e,n){t.exports=n(167)},function(t,e,n){"use strict";var r=n(7).f,i=n(38),o=n(53),u=n(10),s=n(44),a=n(29),f=n(48),l=n(84),c=n(95),h=n(9),d=n(49).fastKey,v=n(58),p=h?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,f){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=r&&a(r,n,t[f],t)});return o(l.prototype,{clear:function(){for(var t=v(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var n=v(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[p]--}return!!r},forEach:function(t){v(this,e);for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(v(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return v(this,e)[p]}}),l},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[p]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){f(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var r=n(37),i=n(127);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){"use strict";var r=n(4),i=n(3),o=n(49),u=n(20),s=n(12),a=n(53),f=n(29),l=n(44),c=n(6),h=n(32),d=n(7).f,v=n(129)(0),p=n(9);t.exports=function(t,e,n,g,y,m){var _=r[t],b=_,w=y?"set":"add",x=b&&b.prototype,k={};return p&&"function"==typeof b&&(m||x.forEach&&!u(function(){(new b).entries().next()}))?(b=e(function(e,n){l(e,b,t,"_c"),e._c=new _,void 0!=n&&f(n,y,e[w],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in x&&(!m||"clear"!=t)&&s(b.prototype,t,function(n,r){if(l(this,b,t),!e&&m&&!c(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),m||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=g.getConstructor(e,t,y,w),a(b.prototype,n),o.NEED=!0),h(b,t),k[t]=b,i(i.G+i.W+i.F,k),m||g.setStrong(b,t,y),b}},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=!n(9)&&!n(20)(function(){return 7!=Object.defineProperty(n(46)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(21),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(8);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:n=!0}},o[r]=function(){return u},t(o)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(52),i=n(31),o=n(22),u=n(57),s=n(15),a=n(78),f=Object.getOwnPropertyDescriptor;e.f=n(9)?f:function(t,e){if(t=o(t),e=u(e,!0),a)try{return f(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(89),i=n(47).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(15),i=n(33),o=n(54)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(15),i=n(22),o=n(128)(!1),u=n(54)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),a=0,f=[];for(n in s)n!=u&&r(s,n)&&f.push(n);for(;e.length>a;)r(s,n=e[a++])&&(~o(f,n)||f.push(n));return f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(8),i=n(6),o=n(50);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports=n(12)},function(t,e,n){"use strict";var r=n(3),i=n(27),o=n(10),u=n(29);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,a=arguments[1];return i(this),e=void 0!==a,e&&i(a),void 0==t?new this:(n=[],e?(r=0,s=o(a,arguments[2],2),u(t,!1,function(t){n.push(s(t,r++))})):u(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(4),i=n(0),o=n(7),u=n(9),s=n(5)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];u&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(8),i=n(27),o=n(5)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||void 0==(n=r(u)[o])?e:i(n)}},function(t,e,n){var r,i,o,u=n(10),s=n(134),a=n(77),f=n(46),l=n(4),c=l.process,h=l.setImmediate,d=l.clearImmediate,v=l.MessageChannel,p=l.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},_=function(t){m.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete y[t]},"process"==n(28)(c)?r=function(t){c.nextTick(u(m,t,1))}:p&&p.now?r=function(t){p.now(u(m,t,1))}:v?(i=new v,o=i.port2,i.port1.onmessage=_,r=u(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in f("script")?function(t){a.appendChild(f("script")).onreadystatechange=function(){a.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=n(63),f=r(a),l=n(14),c=r(l),h=n(102),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),v=n(64),p=(r(v),n(11)),g=(r(p),n(18)),y=r(g),m=function(){function t(e){(0,o.default)(this,t),this.content=e}return(0,s.default)(t,null,[{key:"fromHtmlHighlighter",value:function(e){return new t(e.content)}}]),(0,s.default)(t,[{key:"get",value:function(){var t=window.getSelection();if(null==t)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=void 0,r=void 0;try{n=d.getNormalizedStartBoundaryPoint(e),r=d.getNormalizedEndBoundaryPoint(e)}catch(t){return c.default.error("unable to compute boundary points:",t),null}if(n.node.nodeType!==Node.TEXT_NODE||r.node.nodeType!==Node.TEXT_NODE)return c.default.info("selection anchor or focus node(s) not text: ignoring"),null;var i=n.node===r.node?Math.abs(r.offset-n.offset):t.toString().length;if(i<=0)return null;var o=this.content.find(n.node),u=n.node===r.node?o:this.content.find(r.node);if(o<0||u<0)return c.default.error("unable to retrieve offset of selection anchor or focus node(s):",t.anchorNode,n.node,t.focusNode,r.node),null;var s=void 0,a=void 0;return o<u||o===u&&n.offset<r.offset?(s=y.default.descriptorRel(this.content.at(o),n.offset),n.node===r.node?(a=(0,f.default)({},s),a.offset+=i-1):a=y.default.descriptorRel(this.content.at(u),r.offset-1)):(s=y.default.descriptorRel(this.content.at(u),r.offset),r.node===n.node?(a=(0,f.default)({},s),a.offset+=i-1):a=y.default.descriptorRel(this.content.at(o),n.offset-1)),new y.default(this.content,s,a)}},{key:"clear",value:function(){var t=window.getSelection;if(null!=t){if(t().empty)return void t().empty();if(t().removeAllRanges)return void t().removeAllRanges()}c.default.warn("clearing of text selection not supported")}}]),t}();e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),o=r(i),u=n(24),s=r(u),a=n(1),f=r(a),l=n(2),c=r(l),h=n(26),d=r(h),v=n(25),p=r(v),g=n(62),y=r(g),m=n(13),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(m),b=n(17),w=n(14),x=r(w),k=n(68),O=(r(k),function(t){function e(t){(0,f.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,s.default)(e)).call(this));return n.markers=t,n.index=-1,n.iterableQueries=null,n.total=0,n.setIterableQueries(null),n}return(0,p.default)(e,t),(0,c.default)(e,[{key:"clear",value:function(){this.clearActive_(),this.index=-1,this.update(!0),this.emit("clear")}},{key:"setIterableQueries",value:function(t){this.iterableQueries=null==t?null:"string"==typeof t?[t]:t.slice(),this.clear(),this.emit("setiterable",t)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.markers.calculateTotalVisible(this.iterableQueries);(t||e!==this.total)&&(this.total=e,this.emit("update",this.index,this.total))}},{key:"set",value:function(t,e,n){if(t<0)throw new Error("Invalid cursor index specified: "+t);var r=this.markers.find(t,this.iterableQueries);if(null==r)return!e&&this.set(0,!0);this.clearActive_();var i=_.getHighlightElements(r.id);if(i.length>0){_.addClass(i,b.Css.enabled);var o=i[0];if("function"==typeof n)try{n(o)}catch(t){x.default.error("failed to scroll to highlight:",t)}else _.isInView(o)||_.scrollIntoView(o)}return this.index!==t&&(this.index=t,this.emit("update",t,this.total),!0)}},{key:"prev",value:function(){this.total>0&&this.set((this.index<1?this.total:this.index)-1,!1)}},{key:"next",value:function(){this.set(this.index+1,!1)}},{key:"clearActive_",value:function(){var t=b.Css.enabled,e=!0,n=!1,r=void 0;try{for(var i,u=(0,o.default)(_.getAllHighlightElements(t));!(e=(i=u.next()).done);e=!0){var s=i.value;_.removeClass(s,t)}}catch(t){n=!0,r=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw r}}}}]),e}(y.default));e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return a.default.isSubject(e)?new a.default(t,e):new l.default(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.finder=void 0;var o=n(11),u=(r(o),n(43)),s=(r(u),n(66)),a=r(s),f=n(67),l=r(f);e.finder=i},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.QueryUnhighlighter=e.QueryHighlighter=void 0;var o=n(19),u=i(o),s=n(36),a=i(s),f=n(73),l=i(f),c=n(71),h=i(c),d=n(24),v=i(d),p=n(1),g=i(p),y=n(2),m=i(y),_=n(26),b=i(_),w=n(25),x=i(w),k=n(62),O=i(k),E=n(14),j=i(E),S=n(17),T=n(100),P=r(T),L=n(65),M=i(L),N=n(42),C=i(N),A=n(11),I=(i(A),n(35)),R=r(I),q=function(t){function e(t){(0,g.default)(this,e);var n=(0,b.default)(this,(e.__proto__||(0,v.default)(e)).call(this));return n.options=t,n.done=!1,n.pass=0,n.querySet=null,n.deferTime=null,n}return(0,x.default)(e,t),(0,m.default)(e,[{key:"prerender",value:function(){if(this.done)return j.default.error("query rendering already done"),null;if(this.pass>0)throw new Error("rendering already in progress");this.emit("init");var t=this.querySet;return this.done?null:null==t?(this.abort(),null):this.querySet}},{key:"render",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,h.default)(l.default.mark(function t(e){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:R.abstract();case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"abort",value:function(){this.done||(j.default.log("aborting query render:",this.getQuerySetName()),this.done=!0,this.end("abort"))}},{key:"init",value:function(t){!this.done&&this.pass<1&&(this.querySet=t)}},{key:"wait",value:function(){var t=this.options.rendering,e=t.async,n=t.interval;if(!e)return a.default.resolve();var r=this.deferTime;return null!=r&&Date.now()<r?a.default.resolve():(this.deferTime=Date.now()+n,new a.default(function(t){return requestAnimationFrame(t)}))}},{key:"end",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.emit.apply(this,[t].concat(n)),this.emit("end")}},{key:"getQuerySetName",value:function(){return null!=this.querySet?this.querySet.name:"<unknown>"}}]),e}(O.default),H=function(t){function e(t,n){(0,g.default)(this,e);var r=(0,b.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return r.queries=n,r.reserve=null,r.count=0,r}return(0,x.default)(e,t),(0,m.default)(e,null,[{key:"instantiate",value:function(t,n){return new e(t.options,n)}}]),(0,m.default)(e,[{key:"render",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,h.default)(l.default.mark(function t(e){var n,r,i,o,s,a,f,c,h,d,v,p;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(n=this.prerender())){t.next=3;break}return t.abrupt("return");case 3:this.reserve=null!=n.reserve&&n.reserve>0?n.reserve-n.length:null,r=null,this.options.useQueryAsClass&&(r=S.Css.highlight+"-"+n.name),i=new M.default(n.queryId,n.highlightId+n.length,n.enabled,r),o=!0,s=!1,a=void 0,t.prev=10,f=(0,u.default)(this.queries);case 12:if(o=(c=f.next()).done){t.next=39;break}h=c.value,d=void 0,t.prev=15,d=P.finder(e,h),t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(15),j.default.exception("subject finder instantiation failed [query="+n.name+"]: subject:",h,t.t0),t.abrupt("return");case 23:j.default.log("processing subject:",h),++this.pass,v=void 0;case 26:if(null==(v=d.next())){t.next=36;break}if(!(null!=this.reserve&&this.count>=this.reserve)){t.next=30;break}return j.default.error("highlight reserve exceeded"),t.abrupt("break",36);case 30:j.default.log("highlighting:",v);try{p=i.do(v),this.emit("highlight",this.querySet,v,p,h.state),++this.count}catch(t){j.default.exception("highlighting failed [query="+this.getQuerySetName()+"]: subject:",h,t)}return t.next=34,this.wait();case 34:t.next=26;break;case 36:o=!0,t.next=12;break;case 39:t.next=45;break;case 41:t.prev=41,t.t1=t.catch(10),s=!0,a=t.t1;case 45:t.prev=45,t.prev=46,!o&&f.return&&f.return();case 48:if(t.prev=48,!s){t.next=51;break}throw a;case 51:return t.finish(48);case 52:return t.finish(45);case 53:this.done=!0,this.end("done",this.count);case 55:case"end":return t.stop()}},t,this,[[10,41,45,53],[15,19],[46,,48,52]])}));return t}()}]),e}(q),F=function(t){function e(){return(0,g.default)(this,e),(0,b.default)(this,(e.__proto__||(0,v.default)(e)).apply(this,arguments))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"render",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,h.default)(l.default.mark(function t(e){var n,r,i,o;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(n=this.prerender())){t.next=3;break}return t.abrupt("return");case 3:++this.pass,r=new C.default,i=n.highlightId,o=i+n.length;case 6:if(!(i<o)){t.next=14;break}return r.undo(i),this.emit("unhighlight",i),t.next=11,this.wait();case 11:++i,t.next=6;break;case 14:this.done=!0,this.end("done");case 16:case"end":return t.stop()}},t,this)}));return t}()}],[{key:"instantiate",value:function(t){return new e(t.options)}}]),e}(q),V=function(t){function e(t){(0,g.default)(this,e);var n=(0,b.default)(this,(e.__proto__||(0,v.default)(e)).call(this));return n.onNext=function(){n.active=null,n.next(),null==n.active&&n.emit("done")},n.options=t,n.queue=[],n.active=null,n.content=null,j.default.log("async rendering mode: "+String(n.options.rendering.async)),n}return(0,x.default)(e,t),(0,m.default)(e,[{key:"setContent",value:function(t){this.content=t}},{key:"next",value:function(){if(!(this.queue.length<1||null!=this.active||null==this.content)){var t=this.active=this.queue[0];t.once("end",this.onNext),t.render(this.content)}}},{key:"wait",value:function(){function t(){return e.apply(this,arguments)}var e=(0,h.default)(l.default.mark(function t(){var e,n=this;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=this.active)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,new a.default(function(t){return n.once("done",t)});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"enqueue",value:function(t){var e=this,n=function(){j.default.log(t.constructor.name+": rendering done ["+t.getQuerySetName()+"]");var n=e.queue.indexOf(t);e.queue.splice(n,1)};t.once("end",n),this.queue.push(t)}}]),e}(O.default);e.default=V,e.QueryHighlighter=H,e.QueryUnhighlighter=F},function(t,e,n){"use strict";function r(t){var e=void 0,n=void 0;if(e=t.startContainer,n=t.startOffset,e.nodeType!==Node.TEXT_NODE&&null==(e=e.childNodes[n]))throw new Error("[InvalidNodeTypeError] Invalid start container");return{node:e,offset:n}}function i(t){var e=void 0,n=void 0;if(e=t.endContainer,n=t.endOffset,e.nodeType===Node.TEXT_NODE)return{node:e,offset:n};var r=e.childNodes,i=r.length;if(n>i)throw new Error("[InvalidNodeTypeError] Invalid end container");return n===i?(e=(0,o.findLastTextNode)(e),null==e?(e=t.endContainer,n=0):n=e.textContent.length):(e=e.childNodes[n],n=0),{node:e,offset:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.getNormalizedEndBoundaryPoint=e.getNormalizedStartBoundaryPoint=void 0;var o=n(13);e.getNormalizedStartBoundaryPoint=r,e.getNormalizedEndBoundaryPoint=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),s=r(u),a=function(){function t(e,n){if((0,o.default)(this,t),null==n){if(null==document.body)throw new Error("document body not defined");this.root=document.body}else this.root=n;this.current=e}return(0,s.default)(t,[{key:"next",value:function(){var t=this.current;if(null==t||3!==t.nodeType)throw new Error("No current node or not text node");var e=this.nextNode_(this.current);return null!=e?this.current=this.nextText_(e):null}},{key:"nextNode_",value:function(t){if(null==t)throw new Error("Invalid state: outside of root sub-tree");return t===this.root?null:null!=t.nextSibling?t.nextSibling:this.nextNode_(t.parentNode)}},{key:"nextText_",value:function(t){if(t===this.root||3===t.nodeType)return t;var e=t.childNodes;if(e.length>0)return this.nextText_(e[0]);var n=this.nextNode_(t);return null!=n?this.nextText_(n):null}}]),t}();e.default=a},function(t,e,n){t.exports={default:n(114),__esModule:!0}},function(t,e,n){t.exports={default:n(116),__esModule:!0}},function(t,e,n){t.exports={default:n(117),__esModule:!0}},function(t,e,n){t.exports={default:n(118),__esModule:!0}},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){t.exports={default:n(123),__esModule:!0}},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(105),o=r(i),u=n(19),s=r(u);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=(0,s.default)(t);!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){n(16),n(146),t.exports=n(0).Array.from},function(t,e,n){n(23),n(16),t.exports=n(144)},function(t,e,n){n(23),n(16),t.exports=n(145)},function(t,e,n){n(41),n(16),n(23),n(148),n(158),n(157),n(156),t.exports=n(0).Map},function(t,e,n){n(149);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(150);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(151),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){n(152),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){n(41),n(16),n(23),n(153),n(159),n(160),t.exports=n(0).Promise},function(t,e,n){n(41),n(16),n(23),n(154),n(163),n(162),n(161),t.exports=n(0).Set},function(t,e,n){n(155),n(41),n(164),n(165),t.exports=n(0).Symbol},function(t,e,n){n(16),n(23),t.exports=n(60).f("iterator")},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(22),i=n(39),o=n(142);t.exports=function(t){return function(e,n,u){var s,a=r(e),f=i(a.length),l=o(u,f);if(t&&n!=n){for(;f>l;)if((s=a[l++])!=s)return!0}else for(;f>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(10),i=n(79),o=n(33),u=n(39),s=n(131);t.exports=function(t,e){var n=1==t,a=2==t,f=3==t,l=4==t,c=6==t,h=5==t||c,d=e||s;return function(e,s,v){for(var p,g,y=o(e),m=i(y),_=r(s,v,3),b=u(m.length),w=0,x=n?d(e,b):a?d(e,0):void 0;b>w;w++)if((h||w in m)&&(p=m[w],g=_(p,w,y),t))if(n)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return w;case 2:x.push(p)}else if(l)return!1;return c?-1:f||l?l:x}}},function(t,e,n){var r=n(6),i=n(81),o=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(130);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(7),i=n(31);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(51),i=n(87),o=n(52);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var u,s=n(t),a=o.f,f=0;s.length>f;)a.call(t,u=s[f++])&&e.push(u);return e}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var r=n(38),i=n(31),o=n(32),u={};n(12)(u,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(4),i=n(97).set,o=r.MutationObserver||r.WebKitMutationObserver,u=r.process,s=r.Promise,a="process"==n(28)(u);t.exports=function(){var t,e,n,f=function(){var r,i;for(a&&(r=u.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(a)n=function(){u.nextTick(f)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(f)}}else n=function(){i.call(r,f)};else{var c=!0,h=document.createTextNode("");new o(f).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(7),i=n(8),o=n(51);t.exports=n(9)?Object.defineProperties:function(t,e){i(t);for(var n,u=o(e),s=u.length,a=0;s>a;)r.f(t,n=u[a++],e[n]);return t}},function(t,e,n){var r=n(22),i=n(86).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(3),i=n(0),o=n(20);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",u)}},function(t,e,n){var r=n(6),i=n(8),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(10)(Function.call,n(85).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(56),i=n(45);t.exports=function(t){return function(e,n){var o,u,s=String(i(e)),a=r(n),f=s.length;return a<0||a>=f?t?"":void 0:(o=s.charCodeAt(a),o<55296||o>56319||a+1===f||(u=s.charCodeAt(a+1))<56320||u>57343?t?s.charAt(a):o:t?s.slice(a,a+2):u-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(56),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(4),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var r=n(8),i=n(61);t.exports=n(0).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(37),i=n(5)("iterator"),o=n(21);t.exports=n(0).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(10),i=n(3),o=n(33),u=n(82),s=n(80),a=n(39),f=n(132),l=n(61);i(i.S+i.F*!n(83)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,c,h=o(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,g=void 0!==p,y=0,m=l(h);if(g&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(e=a(h.length),n=new d(e);e>y;y++)f(n,y,g?p(h[y],y):h[y]);else for(c=m.call(h),n=new d;!(i=c.next()).done;y++)f(n,y,g?u(c,p,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(126),i=n(84),o=n(21),u=n(22);t.exports=n(48)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(74),i=n(58);t.exports=n(76)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(3);r(r.S,"Object",{create:n(38)})},function(t,e,n){var r=n(3);r(r.S+r.F*!n(9),"Object",{defineProperty:n(7).f})},function(t,e,n){var r=n(33),i=n(88);n(139)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(140).set})},function(t,e,n){"use strict";var r,i,o,u,s=n(30),a=n(4),f=n(10),l=n(37),c=n(3),h=n(6),d=n(27),v=n(44),p=n(29),g=n(96),y=n(97).set,m=n(136)(),_=n(50),b=n(90),w=n(143),x=n(91),k=a.TypeError,O=a.process,E=O&&O.versions,j=E&&E.v8||"",S=a.Promise,T="process"==l(O),P=function(){},L=i=_.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,u,s=i?e.ok:e.fail,a=e.resolve,f=e.reject,l=e.domain;try{s?(i||(2==t._h&&R(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),u=!0)),n===e.promise?f(k("Promise-chain cycle")):(o=N(n))?o.call(n,a,f):a(n)):f(r)}catch(t){l&&!u&&l.exit(),f(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){y.call(a,function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=b(function(){T?O.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=T||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){y.call(a,function(){var e;T?O.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},q=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},H=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=N(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,f(H,r,1),f(q,r,1))}catch(t){q.call(r,t)}}):(n._v=t,n._s=1,C(n,!1))}catch(t){q.call({_w:n,_d:!1},t)}}};M||(S=function(t){v(this,S,"Promise","_h"),d(t),r.call(this);try{t(f(H,this,1),f(q,this,1))}catch(t){q.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(53)(S.prototype,{then:function(t,e){var n=L(g(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=f(H,t,1),this.reject=f(q,t,1)},_.f=L=function(t){return t===S||t===u?new o(t):i(t)}),c(c.G+c.W+c.F*!M,{Promise:S}),n(32)(S,"Promise"),n(95)("Promise"),u=n(0).Promise,c(c.S+c.F*!M,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(s||!M),"Promise",{resolve:function(t){return x(s&&this===u?S:this,t)}}),c(c.S+c.F*!(M&&n(83)(function(t){S.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,u=1;p(t,!1,function(t){var s=o++,a=!1;n.push(void 0),u++,e.resolve(t).then(function(t){a||(a=!0,n[s]=t,--u||r(n))},i)}),--u||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=b(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(74),i=n(58);t.exports=n(76)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(4),i=n(15),o=n(9),u=n(3),s=n(92),a=n(49).KEY,f=n(20),l=n(55),c=n(32),h=n(40),d=n(5),v=n(60),p=n(59),g=n(133),y=n(81),m=n(8),_=n(6),b=n(33),w=n(22),x=n(57),k=n(31),O=n(38),E=n(138),j=n(85),S=n(87),T=n(7),P=n(51),L=j.f,M=T.f,N=E.f,C=r.Symbol,A=r.JSON,I=A&&A.stringify,R=d("_hidden"),q=d("toPrimitive"),H={}.propertyIsEnumerable,F=l("symbol-registry"),V=l("symbols"),D=l("op-symbols"),Q=Object.prototype,B="function"==typeof C&&!!S.f,z=r.QObject,G=!z||!z.prototype||!z.prototype.findChild,X=o&&f(function(){return 7!=O(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(Q,e);r&&delete Q[e],M(t,e,n),r&&t!==Q&&M(Q,e,r)}:M,U=function(t){var e=V[t]=O(C.prototype);return e._k=t,e},W=B&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},J=function(t,e,n){return t===Q&&J(D,e,n),m(t),e=x(e,!0),m(n),i(V,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=O(n,{enumerable:k(0,!1)})):(i(t,R)||M(t,R,k(1,{})),t[R][e]=!0),X(t,e,n)):M(t,e,n)},K=function(t,e){m(t);for(var n,r=g(e=w(e)),i=0,o=r.length;o>i;)J(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?O(t):K(O(t),e)},$=function(t){var e=H.call(this,t=x(t,!0));return!(this===Q&&i(V,t)&&!i(D,t))&&(!(e||!i(this,t)||!i(V,t)||i(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=w(t),e=x(e,!0),t!==Q||!i(V,e)||i(D,e)){var n=L(t,e);return!n||!i(V,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=N(w(t)),r=[],o=0;n.length>o;)i(V,e=n[o++])||e==R||e==a||r.push(e);return r},et=function(t){for(var e,n=t===Q,r=N(n?D:w(t)),o=[],u=0;r.length>u;)!i(V,e=r[u++])||n&&!i(Q,e)||o.push(V[e]);return o};B||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===Q&&e.call(D,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),X(this,t,k(1,n))};return o&&G&&X(Q,t,{configurable:!0,set:e}),U(t)},s(C.prototype,"toString",function(){return this._k}),j.f=Z,T.f=J,n(86).f=E.f=tt,n(52).f=$,S.f=et,o&&!n(30)&&s(Q,"propertyIsEnumerable",$,!0),v.f=function(t){return U(d(t))}),u(u.G+u.W+u.F*!B,{Symbol:C});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)d(nt[rt++]);for(var it=P(d.store),ot=0;it.length>ot;)p(it[ot++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=C(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),u(u.S+u.F*!B,"Object",{create:Y,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var ut=f(function(){S.f(1)});u(u.S+u.F*ut,"Object",{getOwnPropertySymbols:function(t){return S.f(b(t))}}),A&&u(u.S+u.F*(!B||f(function(){var t=C();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!W(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,I.apply(A,r)}}),C.prototype[q]||n(12)(C.prototype,q,C.prototype.valueOf),c(C,"Symbol"),c(Math,"Math",!0),c(r.JSON,"JSON",!0)},function(t,e,n){n(93)("Map")},function(t,e,n){n(94)("Map")},function(t,e,n){var r=n(3);r(r.P+r.R,"Map",{toJSON:n(75)("Map")})},function(t,e,n){"use strict";var r=n(3),i=n(0),o=n(4),u=n(96),s=n(91);r(r.P+r.R,"Promise",{finally:function(t){var e=u(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(3),i=n(50),o=n(90);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(93)("Set")},function(t,e,n){n(94)("Set")},function(t,e,n){var r=n(3);r(r.P+r.R,"Set",{toJSON:n(75)("Set")})},function(t,e,n){n(59)("asyncIterator")},function(t,e,n){n(59)("observable")},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function u(){p&&d&&(p=!1,d.length?v=d.concat(v):g=-1,v.length&&s())}function s(){if(!p){var t=i(u);p=!0;for(var e=v.length;e;){for(d=v,v=[];++g<e;)d&&d[g].run();g=-1,e=v.length}d=null,p=!1,o(t)}}function a(t,e){this.fun=t,this.array=e}function f(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var d,v=[],p=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new a(t,e)),1!==v.length||p||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.prependListener=f,h.prependOnceListener=f,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(168),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,u=Object.create(o.prototype),s=new d(r||[]);return u._invoke=f(t,n,s),u}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function u(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function a(t){function e(n,i,o,u){var s=r(t[n],t,i);if("throw"!==s.type){var a=s.arg,f=a.value;return f&&"object"==typeof f&&m.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,o,u)},function(t){e("throw",t,o,u)}):Promise.resolve(f).then(function(t){a.value=t,o(a)},u)}u(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function f(t,e,n){var i=E;return function(o,u){if(i===S)throw new Error("Generator is already running");if(i===T){if("throw"===o)throw u;return p()}for(n.method=o,n.arg=u;;){var s=n.delegate;if(s){var a=l(s,n);if(a){if(a===P)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var f=r(t,e,n);if("normal"===f.type){if(i=n.done?T:j,f.arg===P)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(i=T,n.method="throw",n.arg=f.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,l(t,e),"throw"===e.method))return P;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,P;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,P):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,P)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function v(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:p}}function p(){return{value:g,done:!0}}var g,y=Object.prototype,m=y.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",x=_.toStringTag||"@@toStringTag",k="object"==typeof t,O=e.regeneratorRuntime;if(O)return void(k&&(t.exports=O));O=e.regeneratorRuntime=k?t.exports:{},O.wrap=n;var E="suspendedStart",j="suspendedYield",S="executing",T="completed",P={},L={};L[b]=function(){return this};var M=Object.getPrototypeOf,N=M&&M(M(v([])));N&&N!==y&&m.call(N,b)&&(L=N);var C=u.prototype=i.prototype=Object.create(L);o.prototype=C.constructor=u,u.constructor=o,u[x]=o.displayName="GeneratorFunction",O.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},O.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(C),t},O.awrap=function(t){return{__await:t}},s(a.prototype),a.prototype[w]=function(){return this},O.AsyncIterator=a,O.async=function(t,e,r,i){var o=new a(n(t,e,r,i));return O.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(C),C[x]="Generator",C[b]=function(){return this},C.toString=function(){return"[object Generator]"},O.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},O.values=v,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,P):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),P},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),P}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:v(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),P}}}(function(){return this}()||Function("return this")())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])});